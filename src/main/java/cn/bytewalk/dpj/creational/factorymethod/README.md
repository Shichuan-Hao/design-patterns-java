### 工厂方法

亦称：虚拟构造函数、Virtual Constructor、Factory Method

#### 意图
工厂方法设计模式是一种创建型设计模式，其是在父类中提供一个创建对象的方法，允许子类决定实例化对象的类型。
![](factory-method-zh.png)

#### 问题
想象一下，你正在开发一款物流管理应用。

最初的版本只能处理卡车运输，因此大部分代码都在位于名为 `Truck` 的类中。

一段时间以后，这款应用变得极受欢迎，您每天都能收到十几次来自海运公司的请求，希望能够支持海上物流功能。

![如果代码其余部分与现有类已经存在耦合关系，向程序中添加新类就没有那么容易](problem1-zh.png)

虽然这是一个好消息。但是对代码的改造带来了困难。因为目前，大部分代码都与 `Truck` 类相关。在程序中添加``类需要修改管不代码。更坏的是，
如果你以后在程序中支持另外一种运输方式，很可能需要再次对这些代码进行大幅修改。

最后，你不得不编写繁复的代码，根据不同的运输对象类，在应用中进行不同的处理。

![工厂方法模式结构](factory-method-structure.png)